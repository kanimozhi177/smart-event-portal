<!DOCTYPE html>
<html>
<head>
<title>College Smart Event Portal</title>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<style>
body {
  font-family: Arial;
  text-align: center;
  background: linear-gradient(to right, #4facfe, #00f2fe);
  color: black;
}

.event-box {
  background: white;
  padding: 25px;
  margin: 40px auto;
  width: 350px;
  border-radius: 15px;
  box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

button {
  padding: 10px 20px;
  background: blue;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

button:hover { background: darkblue; }

#qrcode { margin-top: 20px; }

#certificate { 
  display:none; 
  background:white; 
  padding:25px; 
  margin:30px auto; 
  width:400px; 
  border-radius:15px;
  border:5px solid black;
}
</style>
</head>

<body>

<h1>College Smart Event Portal</h1>

<div class="event-box">
  <h2>AI Workshop 2026</h2>
  <p><b>Date:</b> March 10, 2026</p>
  <p><b>Venue:</b> Seminar Hall</p>

  <button onclick="generateQR()">Generate Registration QR</button>
  <div id="qrcode"></div>

  <br><br>

  <button onclick="markAttendance()">Mark Attendance</button>
  <p id="attendanceMsg"></p>
</div>

<!-- Certificate -->
<div id="certificate">
  <h2>Certificate of Participation</h2>
  <p>This is to certify that</p>
  <h3 id="certName"></h3>
  <p>has successfully attended AI Workshop 2026</p>
  <p>Date: March 10, 2026</p>
  <button onclick="window.print()">Print / Download</button>
</div>

<script>
function generateQR(){
  const qrDiv = document.getElementById("qrcode");
  qrDiv.innerHTML="";
  const url = window.location.href; // registration page link
  QRCode.toCanvas(url, {width:200}, function(error, canvas){
    if(error) console.error(error);
    qrDiv.appendChild(canvas);
  });
}

function markAttendance(){
  const today = new Date().toLocaleString();
  document.getElementById("attendanceMsg").innerHTML=
    "Attendance Marked Successfully âœ… <br> Time: " + today;

  // Ask name for certificate
  const name = prompt("Enter your name for the certificate:");
  if(!name || name.trim()===""){
    alert("Name is required for certificate!");
    return;
  }

  document.getElementById("certificate").style.display="block";
  document.getElementById("certName").innerText=name;
}
</script>

</body>
</html>
